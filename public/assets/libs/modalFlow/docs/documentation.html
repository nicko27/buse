<!DOCTYPE html>
<html lang="fr">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport"
              content="width=device-width, initial-scale=1.0">
        <title>ModalFlow - Documentation</title>
        <link href="../src/modalFlow.css"
              rel="stylesheet">
        <style>
            body {
                font-family: Arial, sans-serif;
                line-height: 1.6;
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px;
                color: #333;
            }

            .section {
                margin-bottom: 40px;
                background: #fff;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }

            .code-block {
                background: #f8f9fa;
                padding: 15px;
                border-radius: 4px;
                overflow-x: auto;
                border: 1px solid #e9ecef;
            }

            pre {
                margin: 0;
                white-space: pre-wrap;
            }

            table {
                width: 100%;
                border-collapse: collapse;
                margin: 20px 0;
            }

            th,
            td {
                border: 1px solid #dee2e6;
                padding: 12px;
                text-align: left;
            }

            th {
                background: #f8f9fa;
            }

            .method-signature {
                font-family: monospace;
                background: #f8f9fa;
                padding: 8px;
                border-radius: 4px;
                border: 1px solid #e9ecef;
                margin: 10px 0;
            }

            .nav {
                position: fixed;
                top: 20px;
                left: 20px;
                width: 250px;
                background: #fff;
                padding: 20px;
                border-radius: 8px;
                box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            }

            .nav ul {
                list-style: none;
                padding: 0;
            }

            .nav li {
                margin-bottom: 10px;
            }

            .nav a {
                color: #007bff;
                text-decoration: none;
            }

            .nav a:hover {
                text-decoration: underline;
            }

            .content {
                margin-left: 300px;
            }

            .try-button {
                background: #007bff;
                color: white;
                border: none;
                padding: 10px 20px;
                border-radius: 4px;
                cursor: pointer;
                margin-top: 10px;
            }

            .try-button:hover {
                background: #0056b3;
            }

            .example-section {
                margin-bottom: 30px;
                padding: 20px;
                border: 1px solid #e9ecef;
                border-radius: 4px;
            }

            .example-title {
                margin-top: 0;
                color: #333;
            }

            .example-description {
                color: #666;
                margin-bottom: 20px;
            }

            @media (max-width: 1200px) {
                .nav {
                    display: none;
                }

                .content {
                    margin-left: 0;
                }
            }
        </style>
    </head>

    <body>
        <nav class="nav">
            <h3>Navigation</h3>
            <ul>
                <li><a href="#introduction">Introduction</a></li>
                <li><a href="#installation">Installation</a></li>
                <li><a href="#configuration">Configuration</a></li>
                <li><a href="#basic-usage">Utilisation de Base</a></li>
                <li><a href="#drag-resize">Drag & Resize</a></li>
                <li><a href="#validation">Validation de Formulaires</a></li>
                <li><a href="#events">Événements</a></li>
                <li><a href="#examples">Exemples Interactifs</a></li>
                <li><a href="#methods">Méthodes</a></li>
                <li><a href="#server-responses">Gestion des réponses serveur</a></li>
            </ul>
        </nav>

        <div class="content">
            <h1>ModalFlow - Documentation</h1>

            <div id="introduction"
                 class="section">
                <h2>Introduction</h2>
                <p>
                    ModalFlow est une bibliothèque JavaScript légère et puissante pour la création et la gestion de fenêtres modales.
                    Elle intègre nativement les fonctionnalités de déplacement, redimensionnement, validation de formulaires et chargement AJAX.
                </p>
                <p>Caractéristiques principales :</p>
                <ul>
                    <li>Déplacement des modales par drag & drop</li>
                    <li>Redimensionnement avec gestion des proportions</li>
                    <li>Validation de formulaires en temps réel</li>
                    <li>Chargement de contenu via AJAX</li>
                    <li>Gestion des callbacks de confirmation</li>
                    <li>Animations fluides et personnalisables</li>
                    <li>API simple et intuitive</li>
                    <li>Support tactile pour mobile</li>
                </ul>
            </div>

            <div id="installation"
                 class="section">
                <h2>Installation</h2>
                <p>Incluez les fichiers CSS et JavaScript dans votre page :</p>
                <div class="code-block">
                    <pre>
&lt;link href="path/to/modalFlow.css" rel="stylesheet"&gt;
&lt;script src="path/to/modalFlow.js"&gt;&lt;/script&gt;</pre>
                </div>
            </div>

            <div id="configuration"
                 class="section">
                <h2>Configuration</h2>
                <p>ModalFlow peut être configuré lors de l'initialisation :</p>
                <div class="code-block">
                    <pre>
const modal = new ModalFlow({
    // Apparence
    theme: 'light',
    animation: true,
    maxWidth: '800px',
    width: '90%',
    height: 'auto',

    // Comportement
    closeOnEscape: true,
    closeOnOverlayClick: true,
    showCloseButton: true,

    // Drag & Drop
    draggable: true,
    dragHandle: '.modal-flow-header',

    // Redimensionnement
    resizable: true,
    minWidth: 200,
    minHeight: 150,
    handles: ['se', 'sw', 'ne', 'nw'],
    keepAspectRatio: false,

    // Validation
    validateLive: true,
    validateErrorClass: 'invalid',
    validateErrorPlacement: 'after'
});</pre>
                </div>

                <h3>Options disponibles</h3>
                <table>
                    <tr>
                        <th>Option</th>
                        <th>Type</th>
                        <th>Défaut</th>
                        <th>Description</th>
                    </tr>
                    <tr>
                        <td>theme</td>
                        <td>string</td>
                        <td>'light'</td>
                        <td>Thème de la modal ('light' ou 'dark')</td>
                    </tr>
                    <tr>
                        <td>closeOnOverlayClick</td>
                        <td>boolean</td>
                        <td>true</td>
                        <td>Si true, la modal se ferme en cliquant sur l'overlay</td>
                    </tr>
                    <tr>
                        <td>closeOnEscape</td>
                        <td>boolean</td>
                        <td>true</td>
                        <td>Si true, la modal se ferme avec la touche Escape</td>
                    </tr>
                    <tr>
                        <td>draggable</td>
                        <td>boolean</td>
                        <td>false</td>
                        <td>Active le déplacement de la modal</td>
                    </tr>
                    <tr>
                        <td>resizable</td>
                        <td>boolean</td>
                        <td>false</td>
                        <td>Active le redimensionnement</td>
                    </tr>
                    <tr>
                        <td>validateLive</td>
                        <td>boolean</td>
                        <td>true</td>
                        <td>Validation en temps réel des formulaires</td>
                    </tr>
                </table>
            </div>

            <div id="basic-usage"
                 class="section">
                <h2>Utilisation de Base</h2>

                <h3>Créer une Modal</h3>
                <div class="code-block">
                    <pre>
// Création et ouverture séparées
const modalId = modal.create({
    title: 'Ma Modale',
    content: 'Contenu de la modale'
});
modal.open(modalId);

// Création et ouverture en une seule étape
modal.createAndOpen({
    title: 'Ma Modale',
    content: 'Contenu de la modale'
});

// Modale avec chargement AJAX et paramètres POST
modal.createAndOpen({
    title: 'Modale AJAX',
    url: '/chemin/vers/contenu.php',
    params: {
        id: 123,
        action: 'edit'
    },
    onConfirm: () => {
        console.log('Confirmation clicked');
    }
});

// Modale avec contenu personnalisé et callback
modal.create({
    title: 'Modale avec Callback',
    content: 'Voulez-vous continuer ?',
    onConfirm: () => {
        saveChanges();
    }
});</pre>
                </div>

                <h3>Ouvrir/Fermer une Modal</h3>
                <div class="code-block">
                    <pre>
modal.open(modalId);  // Ouvrir
modal.closeModal(modalId); // Fermer</pre>
                </div>

                <h3>Mettre à jour une Modal</h3>
                <div class="code-block">
                    <pre>
modal.update(modalId, {
    title: 'Nouveau titre',
    content: 'Nouveau contenu',
    footer: 'Nouveau pied de page'
});</pre>
                </div>
            </div>

            <div id="drag-resize"
                 class="section">
                <h2>Drag & Resize</h2>

                <h3>Modal Déplaçable</h3>
                <div class="code-block">
                    <pre>
const modalId = modal.create({
    title: 'Modal Déplaçable',
    content: 'Cliquez sur le header pour déplacer',
    draggable: true
});</pre>
                </div>

                <h3>Modal Redimensionnable</h3>
                <div class="code-block">
                    <pre>
const modalId = modal.create({
    title: 'Modal Redimensionnable',
    content: 'Utilisez les poignées pour redimensionner',
    resizable: true,
    minWidth: 300,
    minHeight: 200,
    keepAspectRatio: true
});</pre>
                </div>
            </div>

            <div id="validation"
                 class="section">
                <h2>Validation de Formulaires</h2>

                <h3>Règles de Validation</h3>
                <div class="code-block">
                    <pre>
const modalId = modal.create({
    title: 'Formulaire',
    content: `
        &lt;form&gt;
            &lt;input type="email"
                   data-validate="required|email"
                   data-error="Email invalide"&gt;
            &lt;input type="number"
                   data-validate="required|min:18"
                   data-error="Minimum 18 ans"&gt;
            &lt;button type="submit"&gt;Envoyer&lt;/button&gt;
        &lt;/form&gt;
    `,
    validate: true
});</pre>
                </div>

                <h3>Types de Validation</h3>
                <table>
                    <tr>
                        <th>Règle</th>
                        <th>Description</th>
                        <th>Exemple</th>
                    </tr>
                    <tr>
                        <td>required</td>
                        <td>Champ obligatoire</td>
                        <td>data-validate="required"</td>
                    </tr>
                    <tr>
                        <td>email</td>
                        <td>Format email</td>
                        <td>data-validate="email"</td>
                    </tr>
                    <tr>
                        <td>min:n</td>
                        <td>Valeur minimale</td>
                        <td>data-validate="min:18"</td>
                    </tr>
                    <tr>
                        <td>max:n</td>
                        <td>Valeur maximale</td>
                        <td>data-validate="max:100"</td>
                    </tr>
                </table>
            </div>

            <div id="events"
                 class="section">
                <h2>Événements</h2>

                <h3>Écouter les Événements</h3>
                <div class="code-block">
                    <pre>
// Événements de base
modal.on('open', ({ modalId, element }) => {
    console.log(`Modal ${modalId} ouverte`);
});

// Événements de drag
modal.on('dragStart', ({ modalId, x, y }) => {
    console.log(`Début du déplacement`);
});

// Événements de resize
modal.on('resizeStart', ({ modalId, width, height }) => {
    console.log(`Début du redimensionnement`);
});

// Événements de validation
modal.on('formValid', ({ modalId, form, data }) => {
    console.log(`Formulaire valide`, data);
});

// Événements de chargement AJAX
modal.on('contentLoaded', ({ modalId, element }) => {
    console.log(`Contenu chargé pour la modale ${modalId}`);
});

modal.on('contentError', ({ modalId, element, error }) => {
    console.log(`Erreur lors du chargement du contenu pour la modale ${modalId}`);
});</pre>
                </div>

                <h3>Liste des Événements</h3>
                <table>
                    <tr>
                        <th>Événement</th>
                        <th>Description</th>
                        <th>Données</th>
                    </tr>
                    <tr>
                        <td>open</td>
                        <td>Modal ouverte</td>
                        <td>{ modalId, element }</td>
                    </tr>
                    <tr>
                        <td>close</td>
                        <td>Modal fermée</td>
                        <td>{ modalId, element }</td>
                    </tr>
                    <tr>
                        <td>dragStart</td>
                        <td>Début du drag</td>
                        <td>{ modalId, x, y }</td>
                    </tr>
                    <tr>
                        <td>resizeStart</td>
                        <td>Début du resize</td>
                        <td>{ modalId, width, height }</td>
                    </tr>
                    <tr>
                        <td>formValid</td>
                        <td>Formulaire validé</td>
                        <td>{ modalId, form, data }</td>
                    </tr>
                    <tr>
                        <td>contentLoaded</td>
                        <td>Contenu AJAX chargé</td>
                        <td>{ modalId, element }</td>
                    </tr>
                    <tr>
                        <td>contentError</td>
                        <td>Erreur lors du chargement AJAX</td>
                        <td>{ modalId, element, error }</td>
                    </tr>
                </table>
            </div>

            <div id="server-responses"
                 class="section">
                <h2>Gestion des réponses serveur</h2>
                <p>ModalFlow gère deux types de réponses du serveur :</p>

                <table>
                    <tr>
                        <th>Type</th>
                        <th>Content-Type</th>
                        <th>Format</th>
                        <th>Usage</th>
                    </tr>
                    <tr>
                        <td>HTML</td>
                        <td>text/html</td>
                        <td>HTML direct</td>
                        <td>Contenu normal de la modale</td>
                    </tr>
                    <tr>
                        <td>JSON</td>
                        <td>application/json</td>
                        <td>{ erreur: 1, msgError: "..." }</td>
                        <td>Gestion des erreurs</td>
                    </tr>
                </table>

                <div class="warning">
                    <strong>Important :</strong>
                    <ul>
                        <li>Le serveur doit définir le bon Content-Type dans ses réponses</li>
                        <li>Pour le HTML, évitez les retours à la ligne inutiles qui peuvent causer des problèmes d'échappement</li>
                        <li>Pour les erreurs, utilisez toujours le format JSON avec les champs erreur et msgError</li>
                    </ul>
                </div>

                <h3>Exemple côté serveur (PHP)</h3>
                <pre><code>try {
    // En cas de succès, renvoyer du HTML
    header('Content-Type: text/html; charset=utf-8');
    echo $twig->render('template.twig', $vars);
} catch (Exception $e) {
    // En cas d'erreur, renvoyer du JSON
    header('Content-Type: application/json; charset=utf-8');
    echo json_encode([
        "erreur" => 1,
        "msgError" => $e->getMessage()
    ]);
}</code></pre>

                <h3>Gestion côté client</h3>
                <pre><code>modalFlow.createAndOpen({
    title: 'Ma modale',
    url: '/api/data',
    onError: (error) => {
        if (error.msgError) {
            // Afficher l'erreur à l'utilisateur
            showError(error.msgError);
        }
    }
});</code></pre>
            </div>

            <div id="methods"
                 class="section">
                <h2>Méthodes</h2>

                <div class="method-block">
                    <h3>create(options)</h3>
                    <p>Crée une nouvelle modale sans l'ouvrir. Retourne l'ID de la modale.</p>
                    <div class="code-block">
                        <pre>
const modalId = modal.create({
    title: 'Titre',
    content: 'Contenu',
    footer: 'Pied de page'  // optionnel
});</pre>
                    </div>
                    <table>
                        <tr>
                            <th>Option</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                        <tr>
                            <td>title</td>
                            <td>string</td>
                            <td>Titre de la modale</td>
                        </tr>
                        <tr>
                            <td>content</td>
                            <td>string</td>
                            <td>Contenu HTML de la modale</td>
                        </tr>
                        <tr>
                            <td>footer</td>
                            <td>string</td>
                            <td>Contenu HTML du pied de page (optionnel)</td>
                        </tr>
                        <tr>
                            <td>url</td>
                            <td>string</td>
                            <td>URL pour charger le contenu via AJAX</td>
                        </tr>
                        <tr>
                            <td>params</td>
                            <td>object</td>
                            <td>Paramètres à envoyer en POST lors de la requête AJAX</td>
                        </tr>
                        <tr>
                            <td>onConfirm</td>
                            <td>function</td>
                            <td>Fonction à exécuter lors de la confirmation</td>
                        </tr>
                    </table>
                </div>

                <div class="method-block">
                    <h3>createAndOpen(options)</h3>
                    <p>Crée une nouvelle modale et l'ouvre immédiatement. Retourne l'ID de la modale. Cette méthode combine create() et open() en une seule étape.</p>
                    <div class="code-block">
                        <pre>
const modalId = modal.createAndOpen({
    title: 'Titre',
    content: 'Contenu',
    footer: 'Pied de page'  // optionnel
});</pre>
                    </div>
                    <table>
                        <tr>
                            <th>Option</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                        <tr>
                            <td>title</td>
                            <td>string</td>
                            <td>Titre de la modale</td>
                        </tr>
                        <tr>
                            <td>content</td>
                            <td>string</td>
                            <td>Contenu HTML de la modale</td>
                        </tr>
                        <tr>
                            <td>footer</td>
                            <td>string</td>
                            <td>Contenu HTML du pied de page (optionnel)</td>
                        </tr>
                        <tr>
                            <td>url</td>
                            <td>string</td>
                            <td>URL pour charger le contenu via AJAX</td>
                        </tr>
                        <tr>
                            <td>params</td>
                            <td>object</td>
                            <td>Paramètres à envoyer en POST lors de la requête AJAX</td>
                        </tr>
                        <tr>
                            <td>onConfirm</td>
                            <td>function</td>
                            <td>Fonction à exécuter lors de la confirmation</td>
                        </tr>
                    </table>
                </div>

                <div class="method-block">
                    <h3>open(modalId)</h3>
                    <p>Ouvre une modale existante.</p>
                    <div class="code-block">
                        <pre>
modal.open('modal-1');</pre>
                    </div>
                </div>

                <div class="method-block">
                    <h3>closeModal(modalId, force)</h3>
                    <p>Ferme une modale existante. Le paramètre <code>force</code> permet de forcer la fermeture même si la modale est configurée pour ne pas être fermée.</p>
                    <div class="code-block">
                        <pre>
// Fermeture normale
modal.closeModal('modal-1');

// Fermeture forcée
modal.closeModal('modal-1', true);</pre>
                    </div>
                    <table>
                        <tr>
                            <th>Paramètre</th>
                            <th>Type</th>
                            <th>Description</th>
                        </tr>
                        <tr>
                            <td>modalId</td>
                            <td>string</td>
                            <td>Identifiant de la modale à fermer</td>
                        </tr>
                        <tr>
                            <td>force</td>
                            <td>boolean</td>
                            <td>Si true, force la fermeture même si preventClose est activé</td>
                        </tr>
                    </table>
                </div>

                <div class="method-block">
                    <h3>update(modalId, options)</h3>
                    <p>Met à jour le contenu d'une modale existante.</p>
                    <div class="code-block">
                        <pre>
modal.update('modal-1', {
    title: 'Nouveau titre',
    content: 'Nouveau contenu'
});</pre>
                    </div>
                </div>

                <div class="method-block">
                    <h2>Personnalisation de l'en-tête</h2>
                    <p>Il existe deux façons de personnaliser l'en-tête de la modale :</p>

                    <h3>1. Via les options (Header par défaut)</h3>
                    <div class="code-block">
                        <pre><code>modalFlow.createAndOpen({
    title: 'Mon Titre',  // Titre affiché dans le header
    showCloseButton: true,  // Afficher/masquer le bouton de fermeture (true par défaut)
    content: '...'
});</code></pre>
                    </div>

                    <h3>2. Via le HTML (Header personnalisé)</h3>
                    <p>Vous pouvez définir votre propre header en incluant une div avec la classe <code>modal-flow-header</code> dans votre contenu :</p>
                    <div class="code-block">
                        <pre><code>&lt;div class="modal-flow-header"&gt;
    Mon Header Personnalisé
&lt;/div&gt;
&lt;div class="modal__content"&gt;
    Contenu de la modale...
&lt;/div&gt;</code></pre>
                    </div>

                    <div class="warning">
                        <strong>Notes importantes :</strong>
                        <ul>
                            <li>Si un header personnalisé est présent dans le HTML, il sera utilisé à la place du header par défaut</li>
                            <li>L'option <code>title</code> est ignorée si un header personnalisé est présent</li>
                            <li>Si <code>showCloseButton: true</code>, le bouton de fermeture sera ajouté au header personnalisé</li>
                            <li>Pour masquer complètement le header, utilisez <code>title: ''</code> et <code>showCloseButton: false</code></li>
                        </ul>
                    </div>

                    <h3>Exemple complet</h3>
                    <div class="code-block">
                        <pre><code>// Dans votre JavaScript
modalFlow.createAndOpen({
    url: '/api/data',
    showCloseButton: false,  // Masquer le bouton de fermeture
    params: { id: 123 }
});

// Dans votre template HTML
&lt;form id="modal-form"&gt;
    &lt;div class="modal-flow-header"&gt;
        Modification de l'article #123
    &lt;/div&gt;
    &lt;div class="modal__content"&gt;
        &lt;input type="text" name="title"&gt;
    &lt;/div&gt;
    &lt;div class="modal__buttons"&gt;
        &lt;button type="button" onclick="modalFlow.close()"&gt;Annuler&lt;/button&gt;
        &lt;button type="button" onclick="save()"&gt;Enregistrer&lt;/button&gt;
    &lt;/div&gt;
&lt;/form&gt;</code></pre>
                    </div>
                </div>

                <div class="method-block">
                    <h2>Configuration des boutons</h2>
                    <p>Il existe deux façons de configurer les boutons :</p>

                    <h3>1. Via l'option buttons (Recommandé)</h3>
                    <p>Cette méthode est recommandée car elle offre une meilleure séparation des responsabilités :</p>
                    <pre><code>modalFlow.createAndOpen({
    title: 'Titre',
    url: '/url',
    buttons: [
        {
            text: 'Annuler',
            class: 'btn-secondary',
            onClick: () => true  // true = fermer la modale
        },
        {
            text: 'Enregistrer',
            class: 'btn-primary',
            onClick: () => {
                saveData();
                return false;  // false = garder la modale ouverte
            }
        }
    ]
});</code></pre>

                    <div class="warning">
                        <strong>Avantages de cette approche :</strong>
                        <ul>
                            <li>Meilleure séparation des responsabilités (le template contient uniquement le contenu)</li>
                            <li>Possibilité de modifier les boutons dynamiquement</li>
                            <li>Utilisation plus native de l'API modalFlow</li>
                            <li>Gestion plus fine des actions (via le retour true/false)</li>
                        </ul>
                    </div>

                    <h3>2. Via le HTML</h3>
                    <p>Alternative possible en ajoutant une div avec la classe modal__buttons dans votre template :</p>
                    <pre><code>&lt;div class="modal__buttons"&gt;
    &lt;button type="button" class="btn btn-secondary" onclick="modalFlow.close()"&gt;Annuler&lt;/button&gt;
    &lt;button type="button" class="btn btn-primary" onclick="saveData()"&gt;Enregistrer&lt;/button&gt;
&lt;/div&gt;</code></pre>

                    <div class="warning">
                        <strong>Note :</strong> Cette méthode est moins flexible car :
                        <ul>
                            <li>Les boutons sont figés dans le template</li>
                            <li>La gestion des actions est moins fine</li>
                            <li>Le mélange HTML/JavaScript est moins maintenable</li>
                        </ul>
                    </div>
                </div>
            </div>

            <div id="examples"
                 class="section">
                <h2>Exemples Interactifs</h2>

                <!-- Modal Simple -->
                <div class="example-section">
                    <h3 class="example-title">Modal Simple</h3>
                    <div class="example-description">
                        Une modal basique avec titre et contenu.
                    </div>
                    <div class="code-block">
                        <pre>
const modal = new ModalFlow();
modal.create({
    title: 'Modal Simple',
    content: 'Contenu de la modal'
});</pre>
                    </div>
                    <button class="try-button"
                            onclick="showSimpleModal()">Essayer</button>
                </div>

                <!-- Modal Déplaçable -->
                <div class="example-section">
                    <h3 class="example-title">Modal Déplaçable</h3>
                    <div class="example-description">
                        Une modal que l'on peut déplacer en cliquant sur son header.
                    </div>
                    <div class="code-block">
                        <pre>
const modal = new ModalFlow({
    draggable: true
});

modal.create({
    title: 'Modal Déplaçable',
    content: 'Cliquez sur le header pour déplacer la modal'
});</pre>
                    </div>
                    <button class="try-button"
                            onclick="showDraggableModal()">Essayer</button>
                </div>

                <!-- Modal Redimensionnable -->
                <div class="example-section">
                    <h3 class="example-title">Modal Redimensionnable</h3>
                    <div class="example-description">
                        Une modal que l'on peut redimensionner avec les poignées sur les bords.
                    </div>
                    <div class="code-block">
                        <pre>
const modal = new ModalFlow({
    resizable: true,
    minWidth: 300,
    minHeight: 200
});

modal.create({
    title: 'Modal Redimensionnable',
    content: 'Utilisez les poignées pour redimensionner la modal',
    width: '400px',
    height: '300px'
});</pre>
                    </div>
                    <button class="try-button"
                            onclick="showResizableModal()">Essayer</button>
                </div>

                <!-- Formulaire avec Validation -->
                <div class="example-section">
                    <h3 class="example-title">Formulaire avec Validation</h3>
                    <div class="example-description">
                        Un formulaire dans une modal avec validation en temps réel.
                    </div>
                    <div class="code-block">
                        <pre>
const modal = new ModalFlow({
    validateLive: true
});

modal.create({
    title: 'Inscription',
    content: `
        &lt;form&gt;
            &lt;div class="form-group"&gt;
                &lt;label&gt;Nom&lt;/label&gt;
                &lt;input type="text"
                       data-validate="required|minLength:3"
                       placeholder="Votre nom"&gt;
            &lt;/div&gt;
            &lt;div class="form-group"&gt;
                &lt;label&gt;Email&lt;/label&gt;
                &lt;input type="email"
                       data-validate="required|email"
                       placeholder="votre@email.com"&gt;
            &lt;/div&gt;
            &lt;button type="submit"&gt;Envoyer&lt;/button&gt;
        &lt;/form&gt;
    `,
    validate: true
});</pre>
                    </div>
                    <button class="try-button"
                            onclick="showValidationForm()">Essayer</button>
                </div>

                <!-- Modal AJAX -->
                <div class="example-section">
                    <h3 class="example-title">Modal AJAX</h3>
                    <p class="example-description">
                        Exemple d'une modale chargeant son contenu via AJAX.
                    </p>
                    <div class="code-block">
                        <pre>
function showAjaxModal() {
    modal.create({
        title: 'Édition via AJAX',
        url: '/chemin/vers/contenu.php',
        params: {
            id: 123,
            action: 'edit'
        },
        onConfirm: () => {
            // Sauvegarder les modifications
            saveChanges();
        }
    });
}</pre>
                    </div>
                    <button class="try-button"
                            onclick="showAjaxModal()">Essayer</button>
                </div>

                <!-- Modal Non Fermable -->
                <div class="example-section">
                    <h3 class="example-title">Modal Non Fermable par l'Overlay</h3>
                    <div class="example-description">
                        Une modal qui ne peut pas être fermée en cliquant sur l'overlay.
                    </div>
                    <div class="code-block">
                        <pre>
const modal = new ModalFlow();
modal.create({
    title: 'Modal Non Fermable',
    content: 'Cette modal ne peut être fermée qu\'avec le bouton X ou la touche Escape',
    closeOnOverlayClick: false
});</pre>
                    </div>
                    <button class="try-button"
                            onclick="showNonClosableModal()">Essayer</button>
                </div>

                <!-- Modal avec fermeture programmatique -->
                <div class="example-section">
                    <h3 class="example-title">Fermeture Programmatique</h3>
                    <div class="example-description">
                        Une modal avec un bouton qui la ferme via un appel de fonction.
                    </div>
                    <div class="code-block">
                        <pre>
const modalId = modal.create({
    title: 'Fermeture Programmatique',
    content: `
        &lt;p&gt;Cette modal peut être fermée via un bouton personnalisé.&lt;/p&gt;
        &lt;button onclick="closeMyModal()"
                style="padding: 10px 20px;
                       background: #007bff;
                       color: white;
                       border: none;
                       border-radius: 4px;
                       cursor: pointer;">
            Fermer la Modal
        &lt;/button&gt;
    `
});

function closeMyModal() {
    modal.closeModal(modalId);
}</pre>
                    </div>
                    <button class="try-button"
                            onclick="showProgrammaticCloseModal()">Essayer</button>
                </div>

                <!-- Modal AJAX avec Confirmation -->
                <div class="example-section">
                    <h3 class="example-title">Modale AJAX avec Confirmation</h3>
                    <p class="example-description">
                        Exemple d'une modale chargeant son contenu via AJAX avec un callback de confirmation.
                    </p>
                    <div class="code-block">
                        <pre>
function showAjaxModal() {
    modal.create({
        title: 'Édition via AJAX',
        url: '/api/data',
        onConfirm: () => {
            // Sauvegarder les modifications
            saveChanges();
        }
    });
}</pre>
                    </div>
                    <button class="try-button"
                            onclick="showAjaxModal()">Essayer</button>
                </div>

                <!-- Modal AJAX avec Paramètres POST -->
                <div class="example-section">
                    <h3 class="example-title">Modale AJAX avec Paramètres POST</h3>
                    <p class="example-description">
                        Exemple d'une modale chargeant son contenu via AJAX avec des paramètres POST.
                    </p>
                    <div class="code-block">
                        <pre>
function showAjaxModalWithParams() {
    modal.create({
        title: 'Édition via AJAX',
        url: '/api/data',
        params: {
            id: 123,
            action: 'edit',
            type: 'user'
        },
        onConfirm: () => {
            saveChanges();
        }
    });
}</pre>
                    </div>
                    <button class="try-button"
                            onclick="showAjaxModalWithParams()">Essayer</button>
                </div>

                <!-- Exemple avec createAndOpen -->
                <div class="example-section">
                    <h3 class="example-title">Création et Ouverture en Une Étape</h3>
                    <p class="example-description">
                        Exemple d'utilisation de createAndOpen pour créer et ouvrir une modale en une seule étape.
                    </p>
                    <div class="code-block">
                        <pre>
function showQuickModal() {
    modal.createAndOpen({
        title: 'Action Rapide',
        content: 'Voulez-vous continuer ?',
        params: {
            action: 'quick-edit'
        },
        onConfirm: () => {
            quickSave();
        }
    });
}</pre>
                    </div>
                    <button class="try-button"
                            onclick="showQuickModal()">Essayer</button>
                </div>
            </div>
        </div>

        <!-- Scripts -->
        <script src="../src/modalFlow.js"></script>
        <script>
            // Initialiser ModalFlow
            const modalFlow = new ModalFlow();

            // Modal Simple
            function showSimpleModal() {
                const modalId = modalFlow.create({
                    title: 'Modal Simple',
                    content: 'Voici une modal simple avec un titre et du contenu.'
                });
                modalFlow.open(modalId);
            }

            // Modal Déplaçable
            function showDraggableModal() {
                const modalId = modalFlow.create({
                    title: 'Modal Déplaçable',
                    content: 'Cliquez sur le header pour déplacer cette modal',
                    draggable: true
                });
                modalFlow.open(modalId);
            }

            // Modal Redimensionnable
            function showResizableModal() {
                const modalId = modalFlow.create({
                    title: 'Modal Redimensionnable',
                    content: 'Utilisez les poignées pour redimensionner cette modal',
                    resizable: true,
                    width: '400px',
                    height: '300px'
                });
                modalFlow.open(modalId);
            }

            // Formulaire avec Validation
            function showValidationForm() {
                const modalId = modalFlow.create({
                    title: 'Inscription',
                    content: `
                    <form>
                        <div class="form-group">
                            <label>Nom</label>
                            <input type="text"
                                   data-validate="required|minLength:3"
                                   placeholder="Votre nom">
                        </div>
                        <div class="form-group">
                            <label>Email</label>
                            <input type="email"
                                   data-validate="required|email"
                                   placeholder="votre@email.com">
                        </div>
                        <button type="submit">Envoyer</button>
                    </form>
                `,
                    validate: true
                });
                modalFlow.open(modalId);
            }

            // Modal AJAX
            function showAjaxModal() {
                const modalId = modalFlow.create({
                    title: 'Édition via AJAX',
                    content: `
                    <div>
                        <h3>Données Simulées</h3>
                        <p>Dans un cas réel, ces données seraient chargées depuis une API.</p>
                        <ul>
                            <li>Donnée 1</li>
                            <li>Donnée 2</li>
                            <li>Donnée 3</li>
                        </ul>
                    </div>
                `
                });
                modalFlow.open(modalId);
            }

            // Modal Non Fermable
            function showNonClosableModal() {
                const modalId = modalFlow.create({
                    title: 'Modal Non Fermable',
                    content: 'Cette modal ne peut être fermée qu\'avec le bouton X ou la touche Escape',
                    closeOnOverlayClick: false
                });
                modalFlow.open(modalId);
            }

            // Modal avec fermeture programmatique
            function showProgrammaticCloseModal() {
                window.currentModalId = modalFlow.create({
                    title: 'Fermeture Programmatique',
                    content: `
                    <div style="text-align: center;">
                        <p>Cette modal peut être fermée de plusieurs façons :</p>
                        <ul style="text-align: left; margin: 20px 0;">
                            <li>Via le bouton personnalisé ci-dessous</li>
                            <li>Via la croix en haut à droite</li>
                            <li>En cliquant sur l'overlay</li>
                            <li>En appuyant sur Escape</li>
                        </ul>
                        <button onclick="closeProgrammaticModal()"
                                style="padding: 10px 20px;
                                       background: #007bff;
                                       color: white;
                                       border: none;
                                       border-radius: 4px;
                                       cursor: pointer;">
                            Fermer la Modal
                        </button>
                    </div>
                `
                });
                modalFlow.open(window.currentModalId);
            }

            function closeProgrammaticModal() {
                modalFlow.closeModal(window.currentModalId);
            }
        </script>
    </body>

</html>