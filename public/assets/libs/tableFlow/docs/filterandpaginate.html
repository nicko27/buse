<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation Plugin FilterAndPaginate - TableFlow</title>
    <link rel="stylesheet" href="documentation.css">
    <link rel="stylesheet" href="../src/tableFlow.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Styles additionnels spécifiques si nécessaire */
        body { padding: 2rem; }
        .content { margin-left: 0; } /* Pas de nav latérale dans ce doc standalone */
         h1 { margin-bottom: 2rem; }
         tr.modified td { background-color: var(--tf-modified-bg, #fffbeb); } /* Style pour la cohérence */

         /* Styles par défaut du plugin (tirés de tableFlow.css ou définis ici) */
         /* Assurez-vous que ces classes correspondent à celles dans tableFlow.css et la config JS */
        .pagination-container {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 0;
            flex-wrap: wrap; /* Permettre le retour à la ligne sur petits écrans */
            font-size: 0.9em;
            margin-top: 1rem; /* Espace au-dessus */
        }
        .pagination {
            display: flex;
            list-style: none;
            padding: 0;
            margin: 0.5rem 0; /* Marge verticale */
            gap: 0.3rem; /* Espace entre les boutons */
        }
        .page-size-container {
            display: flex;
            align-items: center;
            margin: 0.5rem 0; /* Marge verticale */
            gap: 0.5rem; /* Espace entre label et select */
        }
        .pagination-info {
            margin: 0.5rem 0; /* Marge verticale */
            color: var(--tf-text-muted-color, #6b7280); /* Gris */
        }
        /* Boutons (utilisant les classes par défaut tf-page-button) */
        .tf-page-button {
           padding: 0.3rem 0.6rem;
           border: 1px solid var(--tf-primary-color, #4f46e5);
           background-color: transparent;
           color: var(--tf-primary-color, #4f46e5);
           border-radius: var(--tf-border-radius, 4px);
           cursor: pointer;
           transition: background-color 0.2s ease, color 0.2s ease;
           font-size: 0.9em; /* Taille cohérente */
           line-height: 1.2;
        }
        .tf-page-button:hover:not(:disabled) {
            background-color: var(--tf-choice-option-hover-bg, #eef2ff);
            color: var(--tf-primary-color, #4f46e5);
        }
        .tf-page-button.active { /* Classe active configurable */
            background-color: var(--tf-primary-color, #4f46e5);
            color: white;
            border-color: var(--tf-primary-color, #4f46e5);
        }
        .tf-page-button.disabled, /* Classe disabled configurable */
        .tf-page-button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            border-color: var(--tf-border-color, #e5e7eb);
            color: var(--tf-text-muted-color, #6c757d);
            background-color: transparent;
        }
        /* Select (utilisant la classe par défaut tf-pagesize-select) */
        .tf-pagesize-select {
            padding: 0.3rem 0.6rem;
            border: 1px solid var(--tf-border-color, #e5e7eb);
            border-radius: var(--tf-border-radius, 4px);
            background-color: var(--tf-bg-color, white);
            font-size: 0.9em;
            margin-left: 0.5rem;
        }
        /* Style pour l'input de filtre (exemple) */
        #globalFilterInputExemple { /* ID spécifique à l'exemple */
            padding: 0.5rem;
            border: 1px solid var(--tf-border-color, #ccc);
            border-radius: var(--tf-border-radius, 4px);
            margin-bottom: 1rem;
            width: 100%;
            max-width: 400px; /* Limiter la largeur */
            box-sizing: border-box;
        }
        .pagination-ellipsis {
            padding: 0.3rem 0.4rem;
            color: var(--tf-text-muted-color, #6c757d);
            align-self: center; /* Aligner verticalement avec les boutons */
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="content">
            <h1>Documentation Plugin FilterAndPaginate</h1>

            <section id="plugin-fp-intro">
                <h2>Objectif</h2>
                <p>
                    Le plugin <strong>FilterAndPaginate</strong> ajoute deux fonctionnalités essentielles aux tableaux HTML gérés par TableFlow :
                </p>
                <ul>
                    <li><strong>Filtrage Global :</strong> Permet de filtrer les lignes du tableau en fonction d'un terme de recherche saisi dans un champ de texte externe. La recherche s'effectue sur l'ensemble des cellules visibles de chaque ligne (en utilisant `textContent` ou l'attribut `data-filter-value`).</li>
                    <li><strong>Pagination Côté Client :</strong> Divise le contenu du tableau (les lignes actuellement filtrées) en plusieurs pages, avec des contrôles de navigation (premier, précédent, suivant, dernier, numéros de page) et éventuellement un sélecteur pour choisir le nombre de lignes par page.</li>
                </ul>
                <p>
                    Ce plugin fonctionne entièrement côté client, ce qui signifie qu'il opère sur les données déjà présentes dans le DOM du tableau. Il est idéal pour des tableaux de taille modérée où charger toutes les données initialement est acceptable.
                </p>
            </section>

            <section id="plugin-fp-activation">
                <h2>Activation et Configuration HTML</h2>
                <p>
                    Ce plugin ne nécessite <strong>aucun attribut spécifique</strong> sur les éléments <code>&lt;th&gt;</code> pour son fonctionnement de base. Son activation et sa configuration se font principalement via JavaScript.
                </p>
                <p>
                    Cependant, si vous activez le filtrage (`enableFilter: true` en JS), vous <strong>devez</strong> fournir un élément <code>&lt;input type="text"&gt;</code> quelque part dans votre page HTML. L'ID ou le sélecteur CSS de cet input doit être passé dans l'option `globalFilter` de la configuration JavaScript.
                </p>
                <pre><code class="language-html">&lt;!-- Input pour le filtre global (requis si enableFilter=true) --&gt;
&lt;label for="monFiltre"&gt;Filtrer:&lt;/label&gt;
&lt;input type="text" id="monFiltre" placeholder="Rechercher dans la table..."&gt;

&lt;!-- Votre table HTML --&gt;
&lt;table id="maTableFP"&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th id="col1"&gt;Colonne 1&lt;/th&gt;
      &lt;th id="col2"&gt;Colonne 2 (Filtre Spécial)&lt;/th&gt;
      &lt;!-- ... --&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;tr id="row1"&gt;
        &lt;td id="col1_row1"&gt;Texte A Visible&lt;/td&gt;
        &lt;!-- Utiliser data-filter-value pour une valeur de filtre différente du texte affiché --&gt;
        &lt;td id="col2_row1" data-filter-value="valeurCachee1 motClef"&gt;Label B Affiché&lt;/td&gt;
    &lt;/tr&gt;
     &lt;tr id="row2"&gt;
        &lt;td id="col1_row2"&gt;Texte C Visible&lt;/td&gt;
        &lt;td id="col2_row2"&gt;Label D Affiché&lt;/td&gt; &lt;!-- Filtrera sur "Label D Affiché" --&gt;
    &lt;/tr&gt;
    &lt;!-- ... beaucoup d'autres lignes pour tester la pagination --&gt;
  &lt;/tbody&gt;
&lt;/table&gt;

&lt;!-- Le conteneur de pagination (ex: div.pagination-container) sera inséré ici par le plugin --&gt;
</code></pre>
                <p>
                    Pour le filtrage, le plugin recherche le terme saisi dans le contenu textuel de chaque cellule (`<td>`). Vous pouvez fournir une valeur de filtrage alternative pour une cellule en ajoutant l'attribut <code class="attr">data-filter-value="votre_valeur_de_filtre"</code> à l'élément `<td>`. Si cet attribut est présent, sa valeur sera utilisée pour le filtrage au lieu du contenu textuel (`textContent`) de la cellule.
                </p>
            </section>

            <section id="plugin-fp-config-js">
                <h2>Configuration JavaScript</h2>
                <p>
                    La configuration du plugin se fait dans l'objet d'options de `TableFlow`, sous la clé <code class="value">plugins.filterandpaginate</code>.
                </p>
                <pre><code class="language-javascript">// Exemple d'initialisation de TableFlow
import TableFlow from '../src/tableFlow.js'; // Ajustez le chemin

const tableFP = new TableFlow({
    tableId: 'maTableFP',
    pluginsPath: '../plugins', // Ajustez
    debug: true,
    plugins: {
        names: ['FilterAndPaginate', 'Sort'], // Activer le plugin (et Sort pour voir l'interaction)
        filterandpaginate: { // Configuration spécifique
            // --- Filtrage ---
            enableFilter: true, // Activer le filtrage
            globalFilter: '#monFiltre', // Sélecteur CSS de l'input de filtre (REQUIS si enableFilter=true)
            debounceTime: 300, // Délai (ms) avant filtrage après saisie

            // --- Pagination ---
            pageSize: 5, // Nombre de lignes par page initial
            pageSizes: [5, 10, 25, 50], // Options pour le sélecteur de taille
            showPageSizes: true, // Afficher le sélecteur
            showInfo: true, // Afficher l'info "Affichage X à Y sur Z"

            // --- Apparence (Classes CSS) ---
            containerClass: 'pagination-container', // Classe du conteneur global
            paginationClass: 'pagination', // Classe du conteneur des boutons (<button>)
            activeClass: 'active', // Classe pour le bouton de page actif
            disabledClass: 'disabled', // Classe pour les boutons désactivés
            selectClass: 'tf-pagesize-select', // Classe pour le <select>
            btnClass: 'tf-page-button', // Classe(s) pour les <button>

            // --- Textes (Labels) ---
            labels: {
                first: '« Début', // Texte/HTML
                prev: '‹ Préc.',
                next: 'Suiv. ›',
                last: 'Fin »',
                info: 'Affichage {start}-{end} sur {total}', // Placeholders
                pageSize: 'Par page :'
            },

            // --- Icônes (Optionnel, remplace les labels si défini) ---
            icons: {
                first: '&lt;i class="fas fa-angle-double-left"&gt;&lt;/i&gt;', // Exemple FontAwesome
                prev: '&lt;i class="fas fa-chevron-left"&gt;&lt;/i&gt;',
                next: '&lt;i class="fas fa-chevron-right"&gt;&lt;/i&gt;',
                last: '&lt;i class="fas fa-angle-double-right"&gt;&lt;/i&gt;'
            },

            // --- Debug ---
            // debug: true // Activer logs spécifiques (hérite de global si non défini)
        },
        sort: { // Configurer Sort si utilisé
            // ... options pour Sort ...
        }
    }
});
</code></pre>

                <h3>Tableau Complet des Options de Configuration JS (`plugins.filterandpaginate`)</h3>
                <div class="info-block">
                    Ce tableau liste toutes les options configurables pour le plugin FilterAndPaginate via l'objet `plugins.filterandpaginate`.
                </div>
                <table class="documentation-table">
                    <thead>
                        <tr><th>Option</th><th>Type</th><th>Défaut</th><th>Description</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code class="attr">enableFilter</code></td><td class="type">boolean</td><td><code class="default">true</code></td><td>Active ou désactive la fonctionnalité de filtrage global.</td></tr>
                        <tr><td><code class="attr">globalFilter</code></td><td class="type">string</td><td><code class="default">null</code></td><td>Sélecteur CSS pointant vers l'élément `&lt;input type="text"&gt;` utilisé pour le filtrage. <strong>Requis</strong> si `enableFilter` est `true`.</td></tr>
                        <tr><td><code class="attr">debounceTime</code></td><td class="type">number</td><td><code class="default">300</code></td><td>Délai en millisecondes après la fin de la saisie dans l'input de filtre avant que le filtrage ne soit appliqué. Utile pour les performances.</td></tr>
                        <tr><td><code class="attr">pageSize</code></td><td class="type">number</td><td><code class="default">10</code></td><td>Nombre initial de lignes à afficher par page.</td></tr>
                        <tr><td><code class="attr">pageSizes</code></td><td class="type">Array&lt;number&gt;</td><td><code class="default">[10, 25, 50, 100]</code></td><td>Tableau des options de taille de page disponibles dans le sélecteur (si `showPageSizes` est `true`).</td></tr>
                        <tr><td><code class="attr">containerClass</code></td><td class="type">string</td><td><code class="default">'pagination-container'</code></td><td>Classe CSS appliquée au conteneur `<div>` principal généré par le plugin sous le tableau.</td></tr>
                        <tr><td><code class="attr">paginationClass</code></td><td class="type">string</td><td><code class="default">'pagination'</code></td><td>Classe CSS appliquée au conteneur `<div>` (ou `<ul>`) des boutons de navigation de page (`&lt;button&gt;`).</td></tr>
                        <tr><td><code class="attr">activeClass</code></td><td class="type">string</td><td><code class="default">'active'</code></td><td>Classe CSS ajoutée au bouton (`&lt;button&gt;`) correspondant à la page actuellement affichée.</td></tr>
                        <tr><td><code class="attr">disabledClass</code></td><td class="type">string</td><td><code class="default">'disabled'</code></td><td>Classe CSS ajoutée aux boutons de navigation (premier, précédent, suivant, dernier) lorsqu'ils sont désactivés.</td></tr>
                        <tr><td><code class="attr">selectClass</code></td><td class="type">string</td><td><code class="default">'tf-pagesize-select'</code></td><td>Classe CSS appliquée à l'élément `&lt;select&gt;` utilisé pour choisir la taille de la page.</td></tr>
                        <tr><td><code class="attr">btnClass</code></td><td class="type">string</td><td><code class="default">'tf-page-button'</code></td><td>Une ou plusieurs classes CSS appliquées à tous les éléments `&lt;button&gt;` de la pagination.</td></tr>
                        <tr><td><code class="attr">showPageSizes</code></td><td class="type">boolean</td><td><code class="default">true</code></td><td>Si `true`, affiche le sélecteur (`&lt;select&gt;`) permettant de changer le nombre de lignes par page.</td></tr>
                        <tr><td><code class="attr">showInfo</code></td><td class="type">boolean</td><td><code class="default">true</code></td><td>Si `true`, affiche le texte d'information indiquant le nombre d'entrées affichées et le total.</td></tr>
                        <tr><td><code class="attr">labels</code></td><td class="type">object</td><td><code class="default">{...}</code></td><td>Objet permettant de personnaliser les textes affichés. Clés: `first`, `prev`, `next`, `last`, `info`, `pageSize`. Le format pour `info` utilise `{start}`, `{end}`, `{total}`.</td></tr>
                        <tr><td><code class="attr">icons</code></td><td class="type">object</td><td><code class="default">{first:null,...}</code></td><td>Objet permettant de définir le contenu HTML (ex: `&lt;i&gt;`) pour les boutons `first`, `prev`, `next`, `last`. Si défini, remplace le texte `labels` correspondant.</td></tr>
                        <tr><td><code class="attr">debug</code></td><td class="type">boolean</td><td><code class="default">false</code></td><td>Active les logs de débogage spécifiques à ce plugin. Hérite du `debug` global si non défini.</td></tr>
                    </tbody>
                </table>
            </section>

            <section id="plugin-fp-how-it-works">
                <h2>Fonctionnement Interne</h2>
                <ul>
                    <li><strong>Initialisation (`init`, `setupFilter`, `createContainer`):</strong>
                        <ul>
                            <li>Crée le conteneur DOM pour les contrôles de pagination (`createContainer`) et l'insère après la table.</li>
                            <li>Si le filtrage est activé, trouve l'input spécifié par `globalFilter`, attache un écouteur d'événement `input` avec un debounce (`setupFilter`).</li>
                            <li>Attache un écouteur à l'événement `sortAppened` (si le plugin Sort est présent) pour appeler `refresh()` après un tri (`setupEventListeners`).</li>
                            <li>Appelle `refresh()` pour l'affichage initial.</li>
                        </ul>
                    </li>
                    <li><strong>Filtrage (déclenché par l'input via `_boundFilterInputHandler`):</strong>
                        <ul>
                            <li>Met à jour `this.filterValue` (minuscules, trim).</li>
                            <li>Réinitialise `this.currentPage` à 1.</li>
                            <li>Appelle `refresh()`.</li>
                            <li>Déclenche le callback global `onFilter` de TableFlow s'il existe.</li>
                        </ul>
                    </li>
                    <li><strong>Rafraîchissement (`refresh`):</strong>
                        <ul>
                            <li>Appelle `getFilteredRows()` pour obtenir les lignes correspondant au `this.filterValue`.</li>
                            <li>Calcule `this.totalPages` basé sur le nombre de lignes filtrées et `this.config.pageSize`.</li>
                            <li>Ajuste `this.currentPage` si nécessaire (ne peut dépasser `totalPages`).</li>
                            <li>Masque toutes les lignes du `tbody` (`display: none`).</li>
                            <li>Affiche (`display: ''`) uniquement les lignes filtrées pour la `currentPage` (en utilisant `slice`).</li>
                            <li>Met à jour les contrôles de pagination (boutons, états) via `updatePagination()`.</li>
                            <li>Met à jour le texte d'information via `updateInfo()`.</li>
                        </ul>
                    </li>
                    <li><strong>Récupération des Lignes Filtrées (`getFilteredRows`, `getCellValue`):</strong>
                        <ul>
                            <li>`getFilteredRows` récupère toutes les lignes via `this.table.getAllRows()`. Si `filterValue` est défini, elle filtre ces lignes.</li>
                            <li>Le filtrage d'une ligne vérifie si *au moins une* de ses cellules contient `filterValue` (insensible à la casse).</li>
                            <li>`getCellValue` retourne la valeur à utiliser pour le filtre d'une cellule : prioritairement `data-filter-value` si présent, sinon `textContent.trim()`.</li>
                        </ul>
                    </li>
                    <li><strong>Mise à jour des Contrôles (`updatePagination`, `updateInfo`, `createPageButton`):</strong>
                        <ul>
                            <li>`updatePagination` reconstruit les boutons (Premier, Précédent, numéros, Suivant, Dernier) et les ellipses (...) en fonction de `currentPage` et `totalPages`.</li>
                            <li>`createPageButton` génère un `<button>` avec les classes, contenu (texte/icône), état `disabled`/`active`, et attributs ARIA corrects. Attache un listener `click` qui appelle `goToPage()`.</li>
                            <li>`updateInfo` formate et affiche le texte d'information.</li>
                        </ul>
                    </li>
                    <li><strong>Changement de Page (`goToPage`):</strong>
                        <ul>
                            <li>Appelé par clic sur un bouton de pagination.</li>
                            <li>Vérifie la validité de la page cible.</li>
                            <li>Met à jour `this.currentPage`.</li>
                            <li>Appelle `refresh()`.</li>
                            <li>Déclenche l'événement `pageChanged` sur l'élément table.</li>
                        </ul>
                    </li>
                     <li><strong>Changement de Taille (listener sur `<select>` dans `createContainer`):</strong>
                        <ul>
                            <li>Met à jour `this.config.pageSize`.</li>
                            <li>Réinitialise `this.currentPage` à 1.</li>
                            <li>Appelle `refresh()`.</li>
                        </ul>
                    </li>
                </ul>
            </section>

            <section id="plugin-fp-events">
                <h2>Événements</h2>
                <ul>
                    <li><strong>Écoutés :</strong>
                        <ul>
                            <li><code>input</code> (sur l'élément `globalFilter`) : Pour déclencher le filtrage (avec debounce).</li>
                            <li><code>change</code> (sur le `select` de taille de page) : Pour changer `pageSize`.</li>
                            <li><code>click</code> (sur les boutons `<button>` de pagination) : Pour changer de page via `goToPage`.</li>
                            <li><code>sortAppened</code> (sur l'élément `<table>`, émis par le plugin Sort) : Pour rafraîchir l'affichage après un tri.</li>
                        </ul>
                    </li>
                    <li><strong>Déclenchés :</strong>
                        <ul>
                            <li><code>pageChanged</code> (sur l'élément `<table>`) : Déclenché après un changement de page réussi. Contient `{ detail: { page: newPageNumber, pageSize: currentSize, totalPages: totalPages, tableId: tableId } }`.</li>
                            <li>(Indirectement) Le callback `onFilter` global de TableFlow est appelé après un filtrage.</li>
                        </ul>
                    </li>
                </ul>
            </section>

            <section id="plugin-fp-example">
                <h2>Exemple Complet</h2>
                <p>Cet exemple montre une table simple avec un filtre global et une pagination, interagissant avec le plugin Sort.</p>

                <strong>HTML (`index.html`):</strong>
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Exemple Filter & Paginate Plugin&lt;/title&gt;
    &lt;link rel="stylesheet" href="../src/tableFlow.css"&gt;
    &lt;link rel="stylesheet" href="documentation.css"&gt;
    &lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"&gt;
    &lt;style&gt;
        /* Styles de base et pagination (normalement dans documentation.css/tableFlow.css) */
        body { padding: 2rem; font-family: sans-serif; }
        table { width: 100%; border-collapse: collapse; margin-bottom: 1rem; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
        thead th { background-color: #f2f2f2; }
        .pagination-container{display:flex;justify-content:space-between;align-items:center;padding:.5rem 0;flex-wrap:wrap;font-size:.9em;margin-top:1rem}
        .pagination{display:flex;list-style:none;padding:0;margin:.5rem 0;gap:.3rem}
        .page-size-container{display:flex;align-items:center;margin:.5rem 0;gap:.5rem}
        .pagination-info{margin:.5rem 0;color:#6b7280}
        .tf-page-button{padding:.3rem .6rem;border:1px solid #4f46e5;background-color:transparent;color:#4f46e5;border-radius:4px;cursor:pointer;transition:background-color .2s ease,color .2s ease;font-size:.9em; line-height: 1.2;}
        .tf-page-button:hover:not(:disabled){background-color:#eef2ff;color:#3730a3}
        .tf-page-button.active{background-color:#4f46e5;color:#fff; border-color: #4f46e5;}
        .tf-page-button.disabled,.tf-page-button:disabled{opacity:.5;cursor:not-allowed;border-color:#adb5bd;color:#6c757d; background-color: transparent;}
        .tf-pagesize-select{padding:.3rem .6rem;border:1px solid #e5e7eb;border-radius:4px;background-color:#fff;font-size:.9em; margin-left: 0.5rem;}
        #globalFilterInputExemple{padding:.5rem;border:1px solid #ccc;border-radius:4px;margin-bottom:1rem;width:100%;max-width:400px;box-sizing:border-box}
        .pagination-ellipsis{padding:0.3rem 0.4rem; color: #6c757d; align-self: center;}
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;TableFlow - Exemple Plugin Filter & Paginate&lt;/h1&gt;

    &lt;label for="globalFilterInputExemple"&gt;Filtrer :&lt;/label&gt;
    &lt;input type="text" id="globalFilterInputExemple" placeholder="Entrez du texte..."&gt;

    &lt;table id="dataTableFP"&gt;
        &lt;thead&gt;
            &lt;tr&gt;
                &lt;th id="colNom" th-sort&gt;Nom&lt;/th&gt; &lt;!-- Tri activé --&gt;
                &lt;th id="colVille" th-sort&gt;Ville&lt;/th&gt; &lt;!-- Tri activé --&gt;
                &lt;th id="colPays"&gt;Pays&lt;/th&gt;
            &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tbody&gt;
            &lt;tr id="r1"&gt;&lt;td id="colNom_r1"&gt;Alice&lt;/td&gt;&lt;td id="colVille_r1"&gt;Paris&lt;/td&gt;&lt;td id="colPays_r1"&gt;France&lt;/td&gt;&lt;/tr&gt;
            &lt;tr id="r2"&gt;&lt;td id="colNom_r2"&gt;Bob&lt;/td&gt;&lt;td id="colVille_r2"&gt;Londres&lt;/td&gt;&lt;td id="colPays_r2"&gt;UK&lt;/td&gt;&lt;/tr&gt;
            &lt;tr id="r3"&gt;&lt;td id="colNom_r3"&gt;Charlie&lt;/td&gt;&lt;td id="colVille_r3"&gt;Berlin&lt;/td&gt;&lt;td id="colPays_r3"&gt;Allemagne&lt;/td&gt;&lt;/tr&gt;
            &lt;tr id="r4"&gt;&lt;td id="colNom_r4"&gt;David&lt;/td&gt;&lt;td id="colVille_r4"&gt;Madrid&lt;/td&gt;&lt;td id="colPays_r4"&gt;Espagne&lt;/td&gt;&lt;/tr&gt;
            &lt;tr id="r5"&gt;&lt;td id="colNom_r5"&gt;Eve&lt;/td&gt;&lt;td id="colVille_r5"&gt;Rome&lt;/td&gt;&lt;td id="colPays_r5"&gt;Italie&lt;/td&gt;&lt;/tr&gt;
            &lt;tr id="r6"&gt;&lt;td id="colNom_r6"&gt;Frank&lt;/td&gt;&lt;td id="colVille_r6"&gt;Paris&lt;/td&gt;&lt;td id="colPays_r6"&gt;France&lt;/td&gt;&lt;/tr&gt;
            &lt;tr id="r7"&gt;&lt;td id="colNom_r7"&gt;Grace&lt;/td&gt;&lt;td id="colVille_r7"&gt;Lyon&lt;/td&gt;&lt;td id="colPays_r7"&gt;France&lt;/td&gt;&lt;/tr&gt;
            &lt;tr id="r8"&gt;&lt;td id="colNom_r8"&gt;Heidi&lt;/td&gt;&lt;td id="colVille_r8"&gt;Berlin&lt;/td&gt;&lt;td id="colPays_r8"&gt;Allemagne&lt;/td&gt;&lt;/tr&gt;
            &lt;tr id="r9"&gt;&lt;td id="colNom_r9"&gt;Ivan&lt;/td&gt;&lt;td id="colVille_r9"&gt;Moscou&lt;/td&gt;&lt;td id="colPays_r9"&gt;Russie&lt;/td&gt;&lt;/tr&gt;
            &lt;tr id="r10"&gt;&lt;td id="colNom_r10"&gt;Judy&lt;/td&gt;&lt;td id="colVille_r10"&gt;Londres&lt;/td&gt;&lt;td id="colPays_r10"&gt;UK&lt;/td&gt;&lt;/tr&gt;
             &lt;tr id="r11"&gt;&lt;td id="colNom_r11"&gt;Karl&lt;/td&gt;&lt;td id="colVille_r11"&gt;Vienne&lt;/td&gt;&lt;td id="colPays_r11"&gt;Autriche&lt;/td&gt;&lt;/tr&gt;
             &lt;tr id="r12"&gt;&lt;td id="colNom_r12"&gt;Liam&lt;/td&gt;&lt;td id="colVille_r12"&gt;Dublin&lt;/td&gt;&lt;td id="colPays_r12"&gt;Irlande&lt;/td&gt;&lt;/tr&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;

    &lt;!-- Le conteneur de pagination sera ajouté ici par le script --&gt;

    &lt;script type="module"&gt;
        import TableFlow from '../src/tableFlow.js'; // Ajustez le chemin

        const dataTable = new TableFlow({
            tableId: 'dataTableFP',
            pluginsPath: '../plugins', // Ajustez
            debug: true,
            plugins: {
                // Activer Sort et FilterAndPaginate
                names: ['Sort', 'FilterAndPaginate'],
                filterandpaginate: {
                    enableFilter: true,
                    globalFilter: '#globalFilterInputExemple', // Lier à notre input
                    pageSize: 5, // Afficher 5 lignes par page
                    pageSizes: [5, 10, 20], // Options de taille
                    // Utiliser les icônes FontAwesome pour la navigation
                    icons: {
                        first: '&lt;i class="fas fa-angle-double-left"&gt;&lt;/i&gt;',
                        prev: '&lt;i class="fas fa-chevron-left"&gt;&lt;/i&gt;',
                        next: '&lt;i class="fas fa-chevron-right"&gt;&lt;/i&gt;',
                        last: '&lt;i class="fas fa-angle-double-right"&gt;&lt;/i&gt;'
                    },
                    labels: { // Garder les labels pour les numéros et infos
                         info: 'Lignes {start} à {end} sur {total}',
                         pageSize: 'Par page :'
                    },
                    // Utiliser les classes CSS définies dans le <style> de cette page
                    btnClass: 'tf-page-button',
                    selectClass: 'tf-pagesize-select'
                },
                sort: {
                    // Utiliser les options par défaut pour Sort (activé par th-sort)
                }
            }
        });

        // Attendre que l'instance soit prête (optionnel mais bonne pratique)
        dataTable.ready().then(instance => {
            console.log("Tableau Filtre/Pagination prêt !");
            // Écouter l'événement pageChanged pour info
            instance.tableInstance.element.addEventListener('pageChanged', (e) => {
                console.log('Événement pageChanged reçu:', e.detail);
            });
        }).catch(error => {
            console.error("Erreur initialisation TableFlow pour Filtre/Pagination:", error);
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

                <strong>Fonctionnement de l'exemple :</strong>
                <ol>
                    <li>La table s'affiche avec 12 lignes, mais seules les 5 premières sont visibles (`pageSize: 5`).</li>
                    <li>Sous la table, les contrôles de pagination apparaissent : boutons Premier/Précédent/Suivant/Dernier (avec icônes FontAwesome), les numéros de page (1, 2, 3), le sélecteur de taille (5, 10, 20) et l'info "Lignes 1 à 5 sur 12".</li>
                    <li>Si vous tapez "Berlin" dans le champ de filtre, seules les lignes de Charlie et Heidi (2 lignes) seront affichées. La pagination s'adaptera (1 seule page) et l'info indiquera "Lignes 1 à 2 sur 2".</li>
                    <li>Si vous effacez le filtre, toutes les lignes réapparaissent, paginées.</li>
                    <li>Si vous cliquez sur le numéro de page "2", les lignes 6 à 10 seront affichées.</li>
                    <li>Si vous changez la taille de page à "10", les lignes 1 à 10 seront affichées sur la première page.</li>
                    <li>Si vous cliquez sur l'en-tête "Ville" pour trier, les lignes seront triées par ville, et la pagination sera appliquée au résultat trié, en restant sur la page courante si possible.</li>
                </ol>
            </section>

        </div>
    </div>
</body>
</html>
