<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Documentation Plugin TextEditor - TableFlow</title>
    <link rel="stylesheet" href="documentation.css">
    <link rel="stylesheet" href="../src/tableFlow.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <style>
        /* Styles sp√©cifiques √† cette page */
        body { padding: 2rem; }
        .content { margin-left: 0; }
         h1 { margin-bottom: 2rem; }
         tr.modified td { background-color: var(--tf-modified-bg, #fffbeb); } /* Style pour la coh√©rence */

         /* Styles du menu contextuel (si utilis√©, normalement dans tableFlow.css ou documentation.css) */
         .tf-context-menu{position:absolute;z-index:1050;display:none;min-width:180px;padding:5px 0;margin:2px 0 0;font-size:.9rem;color:var(--tf-text-color);text-align:left;list-style:none;background-color:var(--tf-bg-color,#fff);background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:var(--tf-border-radius,4px);box-shadow:0 .5rem 1rem rgba(0,0,0,.175)}
         .tf-menu-item{display:flex;align-items:center;padding:8px 15px;font-weight:400;color:var(--tf-text-color);text-align:inherit;white-space:nowrap;background-color:transparent;border:0;cursor:pointer;transition:color .15s ease-in-out,background-color .15s ease-in-out}
         .tf-menu-item:hover{color:var(--tf-text-color);background-color:var(--tf-choice-option-hover-bg,#f5f5f5)}
         .tf-menu-item .menu-icon{margin-right:8px;font-size:1.1em;width:20px;text-align:center;flex-shrink:0}
         .tf-menu-item .menu-label{flex-grow:1}
         .tf-menu-separator{height:1px;margin:5px 0;overflow:hidden;background-color:var(--tf-border-color,#e5e7eb)}
         .tf-menu-header{display:block;padding:5px 15px;margin-bottom:0;font-size:.8em;color:var(--tf-text-muted-color,#6b7280);white-space:nowrap;font-weight:700}
         /* Cellule √©ditable */
         td.td-edit { cursor: pointer; }
    </style>
</head>
<body>
    <div class="container">
        <div class="content">
            <h1>Documentation Plugin TextEditor</h1>

            <section id="plugin-texteditor-intro">
                <h2>Objectif</h2>
                <p>
                    Le plugin <strong>TextEditor</strong> est une <strong>extension</strong> con√ßue pour enrichir l'exp√©rience d'√©dition de texte de base fournie par le plugin <a href="edit.html">Edit</a>. Il ajoute des actions sp√©cifiques pour manipuler le contenu textuel des cellules √©ditables.
                </p>
                <p>
                    Ces actions peuvent inclure, par exemple, la suppression de phrases (basique), la mise en majuscules/minuscules, ou la suppression de motifs bas√©s sur des expressions r√©guli√®res. Les actions peuvent √™tre d√©clench√©es via des raccourcis clavier configurables ou via le menu contextuel (si le plugin <a href="contextmenu.html">ContextMenu</a> est √©galement activ√©).
                </p>
                <div class="warning-block">
                    <strong>D√©pendances Fortes :</strong> Ce plugin <strong>n√©cessite</strong> que le plugin <strong>Edit</strong> soit activ√© et fonctionnel (avec son syst√®me de hooks). Pour l'int√©gration au menu contextuel, le plugin <strong>ContextMenu</strong> est √©galement requis et doit √™tre configur√© pour enregistrer des fournisseurs (`registerProvider`).
                </div>
            </section>

            <section id="plugin-texteditor-activation">
                <h2>Activation et Configuration HTML</h2>
                <p>
                    Ce plugin ne n√©cessite <strong>aucun attribut HTML sp√©cifique</strong> sur les √©l√©ments <code>&lt;th&gt;</code> ou <code>&lt;td&gt;</code> pour son activation. Il s'applique automatiquement aux cellules rendues √©ditables par le plugin Edit (`th-edit`).
                </p>
                <p>
                    Son activation et sa configuration se font uniquement via JavaScript.
                </p>
                <pre><code class="language-html">&lt;!-- Exemple de table o√π TextEditor pourrait s'appliquer --&gt;
&lt;table id="maTableNotes"&gt;
  &lt;thead&gt;
    &lt;tr&gt;
      &lt;th id="colTitre" th-edit&gt;Titre&lt;/th&gt; &lt;!-- √âditable, TextEditor peut s'appliquer --&gt;
      &lt;th id="colDescription" th-edit&gt;Description (Long texte)&lt;/th&gt; &lt;!-- √âditable, TextEditor peut s'appliquer --&gt;
      &lt;th id="colAutre"&gt;Autre Colonne&lt;/th&gt; &lt;!-- Non √©ditable, TextEditor ne s'appliquera pas --&gt;
    &lt;/tr&gt;
  &lt;/thead&gt;
  &lt;tbody&gt;
    &lt;!-- Lignes de donn√©es --&gt;
    &lt;tr id="n1"&gt;
        &lt;td id="colTitre_n1"&gt;Note 1&lt;/td&gt;
        &lt;td id="colDescription_n1"&gt;Ceci est la premi√®re phrase. Ceci est la deuxi√®me.&lt;/td&gt;
        &lt;td id="colAutre_n1"&gt;Info&lt;/td&gt;
    &lt;/tr&gt;
  &lt;/tbody&gt;
&lt;/table&gt;</code></pre>
            </section>

            <section id="plugin-texteditor-config-js">
                <h2>Configuration JavaScript</h2>
                <p>
                    La configuration du plugin se fait dans l'objet d'options de `TableFlow`, sous la cl√© <code class="value">plugins.texteditor</code>.
                </p>
                <pre><code class="language-javascript">// Exemple d'initialisation de TableFlow
import TableFlow from '../src/tableFlow.js'; // Ajustez le chemin

const tableNotes = new TableFlow({
    tableId: 'maTableNotes',
    pluginsPath: '../plugins', // Ajustez
    debug: true,
    plugins: {
        // IMPORTANT: 'Edit' et 'ContextMenu' doivent √™tre activ√©s avant 'TextEditor'
        names: ['Edit', 'ContextMenu', 'TextEditor'],
        texteditor: { // Configuration sp√©cifique pour 'TextEditor'
            // --- Options G√©n√©rales ---
            // debug: true, // Activer logs sp√©cifiques

            // --- Actions de Texte ---
            // Vous pouvez surcharger, supprimer ou ajouter des actions ici.
            actions: {
                // Garder les actions par d√©faut (elles seront fusionn√©es)
                // deleteSentence: { label: 'Supprimer 1√®re phrase', ... },
                // deleteRegexMatch: { label: 'Supprimer motif...', ... },
                // capitalizeSentence: { label: 'Majuscules 1√®re phrase', ...},

                // Ajouter une action personnalis√©e
                'toLowerCase': {
                    label: 'Mettre en minuscules',
                    icon: 'aa', // Peut √™tre du HTML comme <i class="..."></i>
                    // 'this' r√©f√©rence l'instance TextEditorPlugin
                    handler: function(cell, text) {
                        if (text) this.updateCellValue(cell, text.toLowerCase());
                    }
                },
                'addTimestamp': {
                    label: 'Ajouter Horodatage',
                    icon: 'üïí',
                    handler: function(cell, text) {
                        const timestamp = new Date().toLocaleString('fr-FR');
                        const newText = text ? `${text}\n[Modifi√© le ${timestamp}]` : `[Cr√©√© le ${timestamp}]`;
                        this.updateCellValue(cell, newText);
                    }
                },
                 // Supprimer une action par d√©faut (si besoin)
                 // deleteSentence: false, // Ou ne pas l'inclure si on surcharge tout l'objet 'actions'
            },

            // --- Raccourcis Clavier ---
            shortcutsEnabled: true, // Activer les raccourcis (d√©faut: true)
            shortcuts: {
                // Fusionne avec les d√©fauts {'Ctrl+Delete': 'deleteSentence'}
                'Ctrl+Shift+L': 'toLowerCase', // Raccourci pour notre action perso
                'Ctrl+T': 'addTimestamp'
                // Pour d√©sactiver un raccourci par d√©faut :
                // 'Ctrl+Delete': null
            },

            // --- Int√©gration Menu Contextuel ---
            // Nom de la section dans le menu (si ContextMenuPlugin est actif)
            menuSection: '√âdition Texte Avanc√©e' // Personnaliser le titre
        },
        edit: { /* ... config Edit ... */ },
        contextmenu: { /* ... config ContextMenu ... */ }
    }
});
</code></pre>

                <h3>Tableau Complet des Options de Configuration JS (`plugins.texteditor`)</h3>
                <div class="info-block">
                    Ce tableau liste toutes les options configurables pour le plugin TextEditor via l'objet `plugins.texteditor`.
                </div>
                <table class="documentation-table">
                    <thead>
                        <tr><th>Option (dans `plugins.texteditor`)</th><th>Type</th><th>D√©faut</th><th>Description</th></tr>
                    </thead>
                    <tbody>
                        <tr><td><code class="attr">debug</code></td><td class="type">boolean</td><td><code class="default">false</code></td><td>Active les logs de d√©bogage sp√©cifiques au plugin TextEditor. H√©rite de l'option `debug` globale de TableFlow si non sp√©cifi√©e ici.</td></tr>
                        <tr><td><code class="attr">actions</code></td><td class="type">object</td><td><code class="default">{...}</code> (voir code source)</td><td>Objet d√©finissant les actions de manipulation de texte disponibles. La cl√© est un ID unique pour l'action, la valeur est un objet avec `label`, `icon`, et `handler` (voir tableau suivant). Les actions fournies ici sont <strong>fusionn√©es</strong> avec les actions par d√©faut (deleteSentence, deleteRegexMatch, capitalizeSentence). Vous pouvez surcharger une action par d√©faut en utilisant la m√™me cl√©, ou en ajouter de nouvelles.</td></tr>
                        <tr><td><code class="attr">shortcutsEnabled</code></td><td class="type">boolean</td><td><code class="default">true</code></td><td>Si `true`, le plugin √©coutera les √©v√©nements clavier (via le hook `onKeydown` du plugin Edit) pour d√©clencher les actions d√©finies dans `shortcuts`.</td></tr>
                        <tr><td><code class="attr">shortcuts</code></td><td class="type">object</td><td><code class="default">{'Ctrl+Delete': 'deleteSentence'}</code></td><td>Objet associant une combinaison de touches (ex: `'Ctrl+S'`, `'Alt+Shift+P'`) √† l'ID d'une action d√©finie dans `actions` (y compris les actions par d√©faut). Les raccourcis fournis ici sont <strong>fusionn√©s</strong> avec les raccourcis par d√©faut. Pour d√©sactiver un raccourci par d√©faut, assignez-lui `null` (ex: `'Ctrl+Delete': null`).</td></tr>
                        <tr><td><code class="attr">menuSection</code></td><td class="type">string</td><td><code class="default">'Texte'</code></td><td>Nom de la section sous laquelle les actions de ce plugin appara√Ætront dans le menu contextuel (si le plugin ContextMenu est actif). Mettre √† `null` ou `false` pour ne pas avoir d'en-t√™te de section.</td></tr>
                    </tbody>
                </table>

                <h3>Structure de D√©finition d'une Action (dans `plugins.texteditor.actions`)</h3>
                 <div class="info-block">
                    Ce tableau d√©taille les propri√©t√©s n√©cessaires pour d√©finir une action de texte personnalis√©e ou surcharger une action par d√©faut.
                 </div>
                <table class="documentation-table">
                     <thead>
                         <tr><th>Propri√©t√© (dans `actions[actionId]`)</th><th>Type</th><th>Requis?</th><th>Description</th></tr>
                     </thead>
                     <tbody>
                         <tr><td><code class="attr">label</code></td><td class="type">string</td><td>Oui</td><td>Le texte qui sera affich√© dans le menu contextuel pour cette action.</td></tr>
                         <tr><td><code class="attr">icon</code></td><td class="type">string</td><td>Non</td><td>HTML (ou caract√®re) de l'ic√¥ne √† afficher √† c√¥t√© du label dans le menu contextuel.</td></tr>
                         <tr><td><code class="attr">handler</code></td><td class="type">function</td><td>Oui</td><td>La fonction JavaScript √† ex√©cuter lorsque l'action est d√©clench√©e (via menu ou raccourci). Re√ßoit deux arguments : `(cell, currentValue)`, o√π `cell` est l'√©l√©ment `<td>` cibl√© et `currentValue` est sa valeur textuelle actuelle (`data-value` ou `textContent`). La fonction `this` √† l'int√©rieur du handler r√©f√©rence l'instance du plugin TextEditor, vous permettant d'appeler `this.updateCellValue(cell, newValue)`.</td></tr>
                     </tbody>
                 </table>
            </section>

            <section id="plugin-texteditor-how-it-works">
                <h2>Fonctionnement Interne</h2>
                <ul>
                    <li><strong>Initialisation (`init`):</strong>
                        <ul>
                            <li>R√©cup√®re les instances des plugins `Edit` (requis) et `ContextMenu` (optionnel mais n√©cessaire pour le menu) via `this.table.getPlugin()`.</li>
                            <li>V√©rifie la pr√©sence des m√©thodes n√©cessaires sur les d√©pendances (`addHook`, `registerProvider`).</li>
                            <li>Appelle `registerWithPlugins` pour s'enregistrer.</li>
                        </ul>
                    </li>
                    <li><strong>Enregistrement (`registerWithPlugins`):</strong>
                        <ul>
                            <li>Si les raccourcis sont activ√©s, appelle `this.editPlugin.addHook('onKeydown', this._handleKeydown, 'TextEditor')` pour √©couter les frappes clavier pendant l'√©dition.</li>
                            <li>Si `ContextMenuPlugin` est disponible, appelle `this.contextMenuPlugin.registerProvider(this)` pour pouvoir ajouter des items au menu contextuel.</li>
                        </ul>
                    </li>
                    <li><strong>Int√©gration Menu Contextuel (`getMenuItems`):</strong>
                        <ul>
                            <li>M√©thode appel√©e par `ContextMenuPlugin` lors d'un clic droit.</li>
                            <li>V√©rifie si la cellule cible est √©ditable (via `editPlugin.config.cellClass`).</li>
                            <li>Si oui, retourne un tableau d'objets format√©s pour `ContextMenu`, bas√©s sur `this.config.actions`, pr√©c√©d√©s par `this.config.menuSection` si d√©fini.</li>
                        </ul>
                    </li>
                    <li><strong>Ex√©cution d'Action Menu (`executeAction`):</strong>
                        <ul>
                            <li>M√©thode appel√©e par `ContextMenuPlugin` lors d'un clic sur un item de ce plugin.</li>
                            <li>Trouve le `handler` correspondant √† l'`actionId` dans `this.config.actions`.</li>
                            <li>R√©cup√®re la valeur actuelle de la `cell`.</li>
                            <li>Appelle le `handler(cell, currentValue)`.</li>
                        </ul>
                    </li>
                     <li><strong>Gestion des Raccourcis (`_handleKeydown`):</strong>
                        <ul>
                            <li>M√©thode appel√©e par le hook `onKeydown` du plugin `Edit` (se d√©clenche quand l'input d'√©dition a le focus).</li>
                            <li>Construit une cha√Æne repr√©sentant la combinaison de touches (ex: 'Ctrl+Delete').</li>
                            <li>Cherche si cette combinaison existe dans `this.config.shortcuts`.</li>
                            <li>Si oui, trouve l'`actionId` correspondant, appelle `executeAction(actionId, cell)` (qui utilise la valeur actuelle de la *cellule*), et retourne `false` pour indiquer √† `Edit` que l'√©v√©nement a √©t√© g√©r√©.</li>
                            <li>Si aucune combinaison ne correspond, retourne `true` pour laisser `Edit` g√©rer l'√©v√©nement (ex: Entr√©e, Echap).</li>
                        </ul>
                    </li>
                    <li><strong>Actions Int√©gr√©es (`_deleteFirstSentence`, `_deleteRegexMatch`, `_capitalizeFirstSentence`):</strong>
                        <ul>
                            <li>Impl√©mentent la logique sp√©cifique √† chaque action par d√©faut.</li>
                            <li>Utilisent `_splitIntoSentences` (m√©thode interne simpliste).</li>
                            <li>Appellent `updateCellValue` pour appliquer les modifications et d√©clencher `cell:change`.</li>
                            <li>`_deleteRegexMatch` utilise `prompt()` pour demander le motif.</li>
                        </ul>
                    </li>
                    <li><strong>Mise √† Jour Cellule (`updateCellValue`):</strong>
                        <ul>
                            <li>Met √† jour l'attribut `data-value` de la cellule.</li>
                            <li>Met √† jour le contenu visible (via le wrapper et le sanitizer si disponible).</li>
                            <li>D√©clenche l'√©v√©nement `cell:change` avec `source: 'textEditor'` pour notifier les autres plugins (comme Actions) du changement.</li>
                        </ul>
                    </li>
                     <li><strong>Nettoyage (`destroy`):</strong>
                        <ul>
                            <li>Appelle `removeHook` sur `EditPlugin` pour retirer le listener `onKeydown`.</li>
                            <li>Appelle `unregisterProvider` sur `ContextMenuPlugin` pour se retirer de la liste des fournisseurs.</li>
                        </ul>
                     </li>
                </ul>
                 <div class="warning-block">
                    <strong>Limites des Actions sur Phrases :</strong> Les actions par d√©faut `_deleteFirstSentence` et `_capitalizeFirstSentence` agissent sur la *premi√®re* phrase d√©tect√©e par une m√©thode de d√©coupage simple. Elles ne tiennent pas compte de la position du curseur ou de la s√©lection dans le champ d'√©dition. Pour des actions plus contextuelles, il faudrait une int√©gration plus pouss√©e avec l'√©tat de l'input d'√©dition.
                </div>
            </section>

             <section id="plugin-texteditor-api">
                <h2>API Publique</h2>
                <p>
                    Ce plugin n'expose pas d'API publique destin√©e √† √™tre appel√©e directement depuis l'ext√©rieur. Ses fonctionnalit√©s sont d√©clench√©es via les interactions utilisateur (menu contextuel, raccourcis clavier) g√©r√©es par les plugins `ContextMenu` et `Edit`.
                </p>
                 <p>Vous pouvez cependant le configurer largement via l'objet `plugins.texteditor` lors de l'initialisation de `TableFlow` pour ajouter, modifier ou supprimer des actions et des raccourcis.</p>
            </section>

            <section id="plugin-texteditor-events">
                <h2>√âv√©nements</h2>
                <ul>
                    <li><strong>√âcout√©s :</strong> Aucun √©v√©nement DOM direct. S'appuie sur les hooks de `Edit` (`onKeydown`) et l'interface de `ContextMenu` (`getMenuItems`, `executeAction`).</li>
                    <li><strong>D√©clench√©s :</strong>
                        <ul>
                             <li><code>cell:change</code> (sur l'√©l√©ment `<table>`) : D√©clench√© via `updateCellValue` apr√®s qu'une action de texte a modifi√© la valeur d'une cellule. Contient `{ detail: { ..., source: 'textEditor', ... } }`.</li>
                        </ul>
                    </li>
                </ul>
            </section>

            <section id="plugin-texteditor-example">
                <h2>Exemple Complet</h2>
                <p>Cet exemple montre une table avec une colonne de description √©ditable, o√π l'on peut utiliser le menu contextuel ou des raccourcis pour manipuler le texte, y compris une action personnalis√©e pour ajouter un horodatage.</p>

                <strong>HTML (`index.html`):</strong>
                <pre><code class="language-html">&lt;!DOCTYPE html&gt;
&lt;html lang="fr"&gt;
&lt;head&gt;
    &lt;meta charset="UTF-8"&gt;
    &lt;title&gt;Exemple TextEditor Plugin&lt;/title&gt;
    &lt;link rel="stylesheet" href="../src/tableFlow.css"&gt;
    &lt;link rel="stylesheet" href="documentation.css"&gt;
    &lt;link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css"&gt;
    &lt;style&gt;
        body { padding: 2rem; font-family: sans-serif; }
        table { width: 100%; border-collapse: collapse; }
        th, td { border: 1px solid #ccc; padding: 8px; text-align: left; vertical-align: top; }
        thead th { background-color: #f2f2f2; }
        tr.modified td { background-color: #fffbeb; }
        /* Styles menu contextuel */
        .tf-context-menu{position:absolute;z-index:1050;display:none;min-width:180px;padding:5px 0;margin:2px 0 0;font-size:.9rem;color:#1f2937;text-align:left;list-style:none;background-color:#fff;background-clip:padding-box;border:1px solid rgba(0,0,0,.15);border-radius:4px;box-shadow:0 .5rem 1rem rgba(0,0,0,.175)}
        .tf-menu-item{display:flex;align-items:center;padding:8px 15px;font-weight:400;color:#1f2937;text-align:inherit;white-space:nowrap;background-color:transparent;border:0;cursor:pointer;transition:color .15s ease-in-out,background-color .15s ease-in-out}
        .tf-menu-item:hover{color:#1f2937;background-color:#f5f5f5}
        .tf-menu-item .menu-icon{margin-right:8px;font-size:1.1em;width:20px;text-align:center;flex-shrink:0}
        .tf-menu-item .menu-label{flex-grow:1}
        .tf-menu-separator{height:1px;margin:5px 0;overflow:hidden;background-color:#e5e7eb}
        .tf-menu-header{display:block;padding:5px 15px;margin-bottom:0;font-size:.8em;color:#6b7280;white-space:nowrap;font-weight:700}
        /* Cellule √©ditable */
        td.td-edit { cursor: pointer; }
    &lt;/style&gt;
&lt;/head&gt;
&lt;body&gt;
    &lt;h1&gt;TableFlow - Exemple Plugin TextEditor&lt;/h1&gt;
    &lt;p&gt;Double-cliquez sur le contenu pour √©diter. Faites un clic droit pour le menu contextuel. Essayez Ctrl+Delete et Ctrl+T pendant l'√©dition.&lt;/p&gt;

    &lt;table id="notesTableTE"&gt;
        &lt;thead&gt;
            &lt;tr&gt;
                &lt;th id="noteTitle"&gt;Titre&lt;/th&gt;
                &lt;th id="noteContent" th-edit&gt;Contenu de la Note&lt;/th&gt;
            &lt;/tr&gt;
        &lt;/thead&gt;
        &lt;tbody&gt;
            &lt;tr id="n1"&gt;
                &lt;td id="noteTitle_n1"&gt;R√©union&lt;/td&gt;
                &lt;td id="noteContent_n1"&gt;Pr√©parer la pr√©sentation. Revoir les chiffres. Confirmer la salle.&lt;/td&gt;
            &lt;/tr&gt;
            &lt;tr id="n2"&gt;
                &lt;td id="noteTitle_n2"&gt;Id√©es&lt;/td&gt;
                &lt;td id="noteContent_n2"&gt;Nouveau concept pour le projet Alpha. Explorer l'API externe X. V√©rifier la faisabilit√© technique.&lt;/td&gt;
            &lt;/tr&gt;
        &lt;/tbody&gt;
    &lt;/table&gt;

    &lt;script type="module"&gt;
        import TableFlow from '../src/tableFlow.js'; // Ajustez le chemin

        const notesTable = new TableFlow({
            tableId: 'notesTableTE',
            pluginsPath: '../plugins', // Ajustez
            debug: true,
            plugins: {
                // Activer Edit, ContextMenu et TextEditor
                names: ['Edit', 'ContextMenu', 'TextEditor'],
                texteditor: {
                    // Utiliser les actions par d√©faut et en ajouter une
                    actions: {
                        // Les actions par d√©faut seront automatiquement fusionn√©es
                        'addTimestamp': {
                            label: 'Ajouter Horodatage',
                            icon: 'üïí',
                            handler: function(cell, text) { // 'this' est TextEditorPlugin
                                const timestamp = new Date().toLocaleString('fr-FR');
                                const newText = text ? `${text}\n[Modifi√© le ${timestamp}]` : `[Cr√©√© le ${timestamp}]`;
                                this.updateCellValue(cell, newText);
                            }
                        }
                    },
                    // Utiliser les raccourcis par d√©faut et en ajouter un
                    shortcuts: {
                        // 'Ctrl+Delete': 'deleteSentence' (par d√©faut)
                        'Ctrl+T': 'addTimestamp' // Raccourci pour notre action perso
                    },
                    menuSection: 'Outils Texte' // Personnaliser le titre de section
                },
                edit: { /* Config par d√©faut */ },
                contextmenu: { /* Config par d√©faut */ }
            }
        });
    &lt;/script&gt;
&lt;/body&gt;
&lt;/html&gt;
</code></pre>

                <strong>Fonctionnement de l'exemple :</strong>
                <ol>
                    <li>La colonne "Contenu de la Note" est √©ditable (double-clic).</li>
                    <li>Faites un clic droit sur une cellule de cette colonne : un menu contextuel appara√Æt avec la section "Outils Texte".</li>
                    <li>Le menu contient les options par d√©faut ("Supprimer 1√®re phrase", "Supprimer motif...", "Majuscules 1√®re phrase") et l'option personnalis√©e "Ajouter Horodatage".</li>
                    <li>Choisir une option ex√©cute l'action correspondante sur le contenu de la cellule.</li>
                    <li>Pendant l'√©dition (apr√®s double-clic), vous pouvez utiliser les raccourcis :
                        <ul>
                            <li>`Ctrl+Delete` : Supprime la premi√®re phrase du texte actuel de la cellule.</li>
                            <li>`Ctrl+T` : Ajoute un horodatage √† la fin du texte actuel de la cellule.</li>
                        </ul>
                           (Note: Les raccourcis agissent sur la valeur actuelle de l'input pendant l'√©dition).
                    </li>
                    <li>Toute modification via les actions ou les raccourcis marque la ligne comme modifi√©e et d√©clenche l'√©v√©nement `cell:change`.</li>
                </ol>
            </section>

        </div>
    </div>
</body>
</html>
